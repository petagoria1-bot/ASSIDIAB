

import { useSettingsStore, Language } from '../store/settingsStore';
import { quizData as quizDataFR, QuizQuestion } from '../data/quizData';

// English translations for quiz data
const quizDataEN: QuizQuestion[] = [
    {
        question: "Which of these symptoms is typical of hypoglycemia?",
        options: ["Intense thirst", "Dizziness and weakness", "Frequent need to urinate"],
        correctAnswerIndex: 1,
        explanation: "Hypoglycemia (low blood sugar) causes tremors, sweating, weakness, and dizziness. Thirst and urination are signs of hyperglycemia."
    },
    {
        question: "To correct hypoglycemia, 15g of sugar is usually given. This is equivalent to:",
        options: ["A large glass of soda", "3 sugar cubes", "A whole apple"],
        correctAnswerIndex: 1,
        explanation: "3 sugar cubes (5g each) or a small juice box represents about 15g of fast-acting carbohydrates, ideal for raising blood sugar."
    },
    {
        question: "How often is it recommended to change an insulin pump catheter?",
        options: ["Every day", "Every 2 to 3 days", "Every week"],
        correctAnswerIndex: 1,
        explanation: "Changing the infusion site every 2 to 3 days is crucial to ensure good insulin absorption and prevent infections or lipodystrophy."
    },
    {
        question: "Which type of food has the SLOWEST impact on blood sugar?",
        options: ["Candies", "White bread", "Lentils"],
        correctAnswerIndex: 2,
        explanation: "Lentils, rich in fiber and protein, are complex carbohydrates. Their digestion is slower, leading to a gradual increase in blood sugar."
    },
    {
        question: "What do 'ketones' (or ketone bodies) in the blood or urine mean?",
        options: ["An excess of sugar in the body", "A significant lack of insulin", "Good hydration"],
        correctAnswerIndex: 1,
        explanation: "The presence of ketones indicates that the body lacks insulin and is starting to burn fat for energy. It's a warning sign that requires prompt action."
    },
    {
        question: "After a correction injection for hyperglycemia, how long should you wait before re-checking/re-correcting?",
        options: ["30 minutes", "1 hour", "At least 2-3 hours"],
        correctAnswerIndex: 2,
        explanation: "Fast-acting insulin takes time to fully work. You must wait at least the delay defined in the PAI (often 2-3h) to avoid insulin 'stacking' and the risk of hypoglycemia."
    },
    {
        question: "What is the main advantage of counting 'net' carbs (total - fiber)?",
        options: ["It's easier to calculate", "It's more accurate because fiber has little impact on blood sugar", "It allows you to eat more"],
        correctAnswerIndex: 1,
        explanation: "Fibers are not digested in the same way as other carbohydrates and raise blood sugar very little. Net carb counting is therefore often more accurate."
    }
];


const translations = {
  fr: {
    locale: 'fr-FR',
    common_loading: "Chargement",
    common_loadingPatientData: "Chargement des données du patient...",
    common_saveChanges: "Enregistrer les modifications",
    common_firstName: "Prénom",
    common_birthDate: "Date de naissance",
    common_min: "Min",
    common_max: "Max",
    common_rapid: "rapide",
    common_correction: "correction",
    common_optional: "optionnel",
    common_datetime: "Date et heure",
    common_confirm: "Confirmer",
    common_cancel: "Annuler",
    common_creating: "Création...",
    common_save: "Enregistrer",
    common_name: "Nom",
    common_carbs: "Glucides",
    common_description: "Description",
    
    nav_home: "Accueil",
    nav_journal: "Journal",
    nav_calculator: "Calcul",
    nav_emergency: "Urgence",
    nav_settings: "Profil",

    mealTimes: {
        petit_dej: "Petit-déjeuner",
        dejeuner: "Déjeuner",
        gouter: "Goûter",
        diner: "Dîner",
    },

    greeting_morning: "Bonjour",
    greeting_afternoon: "Bon après-midi",
    greeting_evening: "Bonsoir",

    dashboard_currentGlucose: "Glycémie actuelle",
    dashboard_noMeasure: "Aucune mesure",
    dashboard_todayChecks: (count: number) => `${count} contrôle${count > 1 ? 's' : ''} aujourd'hui`,
    dashboard_action_calculate: "Calculer",
    dashboard_action_bolus: "Bolus",
    dashboard_action_measure: "Contrôle",
    dashboard_action_emergency: "Urgence",
    dashboard_eventsTitle: "Mon Agenda",
    dashboard_noEvents: "Aucun événement à venir.",
    dashboard_addEvent: "Ajouter un événement",
    dashboard_todayAt: (time: string) => `Aujourd'hui à ${time}`,
    dashboard_tomorrowAt: (time: string) => `Demain à ${time}`,
    dashboard_eventMarkCompleted: "Terminé",
    dashboard_eventMarkPending: "Réactiver",
    dashboard_dataAnalysisTitle: "Analyse des données",
    dashboard_dataAnalysisText: "Visualisez vos tendances et obtenez des rapports détaillés.",
    dashboard_dataAnalysisButton: "Voir mes rapports",

    calculator_title: "Calculateur de Dose",
    calculator_glycemiaAndTimeTitle: "Glycémie & Moment",
    calculator_glycemiaLabel: "Glycémie (g/L)",
    calculator_mealTimeLabel: "Repas",
    calculator_resultTitle: "Dose Recommandée",
    calculator_resultMealDose: (dose: number, carbs: number) => `${dose.toFixed(1)} U pour ${carbs}g de glucides`,
    calculator_resultCorrectionDose: (dose: number, gly: string) => `+ ${dose} U de correction pour ${gly} g/L`,
    calculator_bolusDetails: (repas: number, corr: number) => `Repas: ${repas.toFixed(1)}U, Correction: ${corr}U`,
    calculator_saveButton: "Enregistrer le bolus dans le journal",
    
    journal_title: "Mon Journal",
    journal_empty: "Aucun événement enregistré.",
    journal_glycemia: "Glycémie",
    journal_ketone: "Cétone",
    journal_carbs: (carbs: number) => `${carbs.toFixed(0)}g de glucides`,
    journal_bolus: "Bolus",
    
    settings_title: "Réglages & Profil",
    settings_language: "Langue",
    settings_profile: "Profil Patient",
    settings_glycemicTargets: "Objectifs glycémiques",
    settings_ratios: "Ratios Insuline/Glucides (1U pour Xg)",
    settings_correctionSchema: "Schéma de correction",
    settings_recorrectionDelay: "Délai avant nouvelle correction (heures)",
    settings_emergencyContacts: "Contacts d'urgence",
    settings_contactRelation: "Lien (Maman...)",
    settings_contactPhone: "Téléphone",
    settings_addContact: "+ Ajouter un contact",
    settings_paiNotes: "Notes pour le PAI",
    settings_dataManagement: "Gestion des données",
    settings_exportData: "Exporter les données",
    settings_importData: "Importer les données",
    settings_viewPai: "Voir mon PAI",
    settings_logout: "Se déconnecter",
    
    onboarding_welcome: "Bienvenue !",
    onboarding_subtitle: "Commençons par créer votre profil.",
    onboarding_firstNamePlaceholder: "ex: Léo",
    onboarding_startButton: "Commencer l'aventure",
    onboarding_helperText: "Cette application est une aide et ne remplace pas un avis médical. Les réglages doivent être définis avec votre diabétologue.",

    emergency_title: "Protocoles d'Urgence",
    emergency_hypoButton: "Hypo",
    emergency_hypoSubtitle: "< 0.70 g/L",
    emergency_hyperButton: "Hyper",
    emergency_hyperSubtitle: "> 2.50 g/L",
    emergency_ketoneButton: "Acétone",
    emergency_ketoneSubtitle: "Cétones > 0.6",
    emergencyProtocols: {
      hypo: {
        title: "Protocole Hypoglycémie",
        step1: (min: number) => `Si glycémie < ${min.toFixed(2)} g/L.`,
        step2: "Prendre 15g de sucre rapide (3 morceaux de sucre, 1 briquette de jus).",
        step3: "Contrôler la glycémie 15 minutes plus tard.",
        step4: "Si toujours en hypo, reprendre 15g de sucre.",
        step5: "Dès que la glycémie remonte, prendre une collation (glucides lents) si le repas est dans plus d'une heure.",
      },
      hyper: {
        title: "Protocole Hyperglycémie",
        step1: (max: number) => `Si glycémie > ${max.toFixed(2)} g/L.`,
        step2: "Faire une injection de correction (bolus) selon le schéma.",
        step3: (delay: number) => `Contrôler la glycémie ${delay} heures plus tard.`,
        step4: "Boire beaucoup d'eau.",
        step5: "Si la glycémie reste élevée ou si des symptômes apparaissent (vomissements, douleurs), contacter un médecin.",
      },
      acetone: {
        title: "Protocole Acétone (Cétones)",
        step1: "Si les cétones sont > 0.6 mmol/L.",
        step2: "Faire une injection d'insuline rapide (correction) même si la glycémie n'est pas très haute.",
        step3: "Boire de l'eau abondamment, toutes les 30 minutes.",
        step4: "Contrôler glycémie et cétones toutes les 2 heures.",
        step5: "NE PAS FAIRE DE SPORT. Si les cétones augmentent ou si vomissements, APPELER LE 15.",
      }
    },
    emergency_patientTitle: "Informations Patient",
    emergency_contactsTitle: "Contacts à prévenir",
    emergency_noContacts: "Aucun contact d'urgence défini.",

    foodLibrary_title: "Bibliothèque d'aliments",
    foodLibrary_searchPlaceholder: (count: number) => `Rechercher parmi ${count} aliments...`,
    foodLibrary_per100: (unit: string) => `pour 100${unit}`,
    foodLibrary_noResults: (term: string) => `Aucun résultat pour "${term}"`,
    foodLibrary_addFood: "Ajouter un aliment",
    
    pai_title: (name: string) => `PAI de ${name}`,
    pai_subtitle: "Projet d'Accueil Individualisé",
    pai_generalInfo: "Informations Générales",
    pai_glycemicTargets: "Objectifs Glycémiques",
    pai_target: "Objectif Cible",
    pai_ratios: "Ratios Insuline / Glucides",
    pai_ratiosSubtitle: "1 unité d'insuline pour...",
    pai_correctionSchema: "Schéma de Correction d'Hyperglycémie",
    pai_correctionSchemaSubtitle: "Ajouter X unités si la glycémie est...",
    pai_correctionRuleFirst: (max: number) => `Entre l'objectif et ${max.toFixed(2)} g/L`,
    pai_correctionRuleNext: (prevMax: number, max: number) => `Entre ${prevMax.toFixed(2)} et ${max.toFixed(2)} g/L`,
    pai_correctionDelay: (hours: number) => `Attendre ${hours}h entre 2 corrections.`,
    pai_notes: "Notes importantes",
    pai_noNotes: "Aucune note.",

    auth_appTitle: "DiabAssistant",
    auth_loginTitle: "Connexion",
    auth_signupTitle: "Créer un compte",
    auth_username: "Pseudo",
    auth_password: "Mot de passe",
    auth_confirmPassword: "Confirmer le mot de passe",
    auth_loginButton: "Se connecter",
    auth_signupButton: "S'inscrire",
    auth_noAccount: "Pas de compte ?",
    auth_hasAccount: "Déjà un compte ?",
    auth_signupLink: "Inscrivez-vous",
    auth_loginLink: "Connectez-vous",

    toast_passwordsDoNotMatch: "Les mots de passe ne correspondent pas.",
    toast_fillAllFields: "Veuillez remplir tous les champs.",
    toast_profileCreated: (name: string) => `Profil pour ${name} créé !`,
    toast_userNotFound: "Utilisateur non trouvé, impossible de créer le profil.",
    toast_measureAdded: (gly: number) => `Mesure ${gly} g/L ajoutée !`,
    toast_bolusAdded: (dose: number) => `Bolus de ${dose}U ajouté !`,
    toast_eventAdded: "Événement ajouté à l'agenda !",
    toast_calculationIncomplete: "Calcul incomplet. Impossible de sauvegarder.",
    toast_bolusSaved: (dose: number) => `Bolus de ${dose}U enregistré.`,
    toast_bolusSaveError: "Erreur lors de l'enregistrement du bolus.",
    toast_nameAndBirthdateRequired: "Le prénom et la date de naissance sont requis.",
    toast_settingsSaved: "Réglages enregistrés avec succès !",
    toast_exportSuccess: "Données exportées avec succès !",
    toast_exportError: "L'exportation a échoué.",
    toast_importInvalidFile: "Fichier d'importation invalide.",
    toast_importConfirm: "Attention, l'importation va écraser toutes les données actuelles. Continuer ?",
    toast_importSuccess: "Données importées ! L'application va redémarrer.",
    toast_importError: "L'importation a échoué.",
    toast_invalidDose: "Veuillez entrer une dose valide.",
    toast_invalidGlycemia: "Veuillez entrer une glycémie valide.",
    toast_invalidKetone: "Veuillez entrer une valeur de cétone valide.",
    toast_foodNameRequired: "Le nom de l'aliment est requis.",
    toast_invalidCarbs: "Veuillez entrer une valeur de glucides valide.",
    toast_invalidFiber: "Veuillez entrer une valeur de fibres valide.",
    toast_foodUpdated: (name: string) => `"${name}" mis à jour.`,
    toast_foodAdded: (name: string) => `"${name}" ajouté à la bibliothèque.`,
    toast_fillAllFieldsCorrectly: "Veuillez remplir tous les champs correctement.",
    toast_titleRequired: "Le titre est requis.",
    toast_datetimeRequired: "La date et l'heure sont requises.",
    toast_invalidQuantity: "Veuillez entrer une quantité valide.",
    toast_invalidWeight: "Veuillez entrer un poids valide.",
    
    quiz_title: "Le saviez-vous ?",
    quiz_nextQuestion: "Question suivante",
    quizData: quizDataFR,

    quickAdd_bolusTitle: "Ajout rapide de Bolus",
    quickAdd_doseLabel: "Dose (unités)",
    quickAdd_injectionType: "Type d'injection",
    quickAdd_rapid: "Repas",
    quickAdd_measureTitle: "Ajout rapide de mesure",
    quickAdd_glycemiaLabel: "Glycémie (g/L)",
    quickAdd_ketoneLabel: "Cétones (mmol/L)",

    addFood_manualCategory: "Manuel",
    addFood_manualSource: "Ajout manuel",
    addFood_editTitle: "Modifier l'aliment",
    addFood_addTitle: "Ajouter un aliment",
    addFood_foodNameLabel: "Nom de l'aliment",
    addFood_foodNamePlaceholder: "Ex: Yaourt aux fruits",
    addFood_per100g: "Pour 100g",
    addFood_per100ml: "Pour 100ml",
    addFood_totalCarbsLabel: "Glucides totaux",
    addFood_fiberLabel: "dont fibres",
    addFood_confirm_title: "Quantité",
    addFood_confirm_quantity: "Quantité consommée",
    addFood_confirm_calculatedCarbs: "Glucides calculés",
    addFood_confirm_addToMeal: "Ajouter au repas",
    
    addEvent_title: "Ajouter à l'agenda",
    addEvent_appointment: "Rendez-vous",
    addEvent_note: "Note",
    addEvent_doctorLabel: "Nom du RDV / Médecin",
    addEvent_doctorPlaceholder: "Ex: Dr. Martin, Diabétologue",
    addEvent_eventTitleLabel: "Titre de l'événement",
    addEvent_eventTitlePlaceholder: "Ex: Commande de matériel",
    addEvent_additionalInfoLabel: "Infos (lieu, questions...)",
    addEvent_additionalInfoPlaceholder: "Facultatif",
    addEvent_descriptionPlaceholder: "Détails...",

    packaging_title: "Calculateur d'emballage",
    packaging_foodNamePlaceholder: "Ex: Céréales Choco",
    packaging_grams: "Grammes (g)",
    packaging_milliliters: "Millilitres (ml)",
    packaging_labelInfo: "Selon l'étiquette nutritionnelle",
    packaging_forWeight: "Pour",
    packaging_consumedWeight: "Poids consommé",
    packaging_consumedWeightPlaceholder: "Ex: 45",
    packaging_totalCarbsResult: "Total Glucides",
    packaging_addToMeal: "Ajouter au repas",
    packaging_calculatedFoodName: (name: string) => `${name} (calculé)`,
    packaging_calculatedCategory: "Calculé",
    packaging_source: "Calcul emballage",

    editMeal_title: "Modifier la quantité",
    editMeal_newQuantityLabel: "Nouvelle quantité",

    mealBuilder_title: "Composition du repas",
    mealBuilder_netCarbs: "Nets",
    mealBuilder_totalCarbs: "Totaux",
    mealBuilder_searchPlaceholder: "Chercher un aliment...",
    mealBuilder_start: "Commencez par ajouter des aliments à votre repas.",
    mealBuilder_packagingCalc: "Emballage",
    mealBuilder_photoScan: "Photo",
    mealBuilder_favoritesTitle: "Favoris",
    mealBuilder_favoriteCategory: "Favori",

    carbIndicator_level_low: "Bas",
    carbIndicator_level_medium: "Modéré",
    carbIndicator_level_high: "Élevé",

    reports_title: "Rapports & Tendances",
    reports_days: (d: number) => `${d} jours`,
    reports_keyStats: "Statistiques Clés",
    reports_tir: "Temps dans la cible",
    reports_avgGlucose: "Moyenne Gly.",
    reports_hypos: "Hypos",
    reports_hypers: "Hypers",
    reports_noDataPeriod: "Pas de données pour cette période.",
    reports_dailyChart: "Graphique journalier",
    reports_noData: "Aucune donnée de glycémie pour ce jour.",
    reports_selectDayWithData: "Sélectionnez un autre jour.",

    doseExplanation_title: "Comment ce calcul est-il fait ?",
    doseExplanation_mealTitle: "Bolus pour le repas",
    doseExplanation_mealDetail: (carbs: number, ratio: number) => `Pour ${carbs}g de glucides, avec ton ratio de 1 unité pour ${ratio}g.`,
    doseExplanation_correctionTitle: "Bolus de Correction",
    doseExplanation_correctionDetail: (gly: string) => `Pour ramener ta glycémie de ${gly} g/L vers l'objectif.`,
    doseExplanation_totalTitle: "Dose Totale",
    doseExplanation_warningTitle: "Note importante",
    doseExplanation_close: "Compris !",
  },
  en: {
    locale: 'en-US',
    common_loading: "Loading",
    common_loadingPatientData: "Loading patient data...",
    common_saveChanges: "Save Changes",
    common_firstName: "First Name",
    common_birthDate: "Date of Birth",
    common_min: "Min",
    common_max: "Max",
    common_rapid: "rapid",
    common_correction: "correction",
    common_optional: "optional",
    common_datetime: "Date and time",
    common_confirm: "Confirm",
    common_cancel: "Cancel",
    common_creating: "Creating...",
    common_save: "Save",
    common_name: "Name",
    common_carbs: "Carbs",
    common_description: "Description",

    nav_home: "Home",
    nav_journal: "Journal",
    nav_calculator: "Calculator",
    nav_emergency: "Emergency",
    nav_settings: "Profile",
    
    mealTimes: {
        petit_dej: "Breakfast",
        dejeuner: "Lunch",
        gouter: "Snack",
        diner: "Dinner",
    },

    greeting_morning: "Good morning",
    greeting_afternoon: "Good afternoon",
    greeting_evening: "Good evening",

    dashboard_currentGlucose: "Current Glucose",
    dashboard_noMeasure: "No measurement",
    dashboard_todayChecks: (count: number) => `${count} check${count > 1 ? 's' : ''} today`,
    dashboard_action_calculate: "Calculate",
    dashboard_action_bolus: "Bolus",
    dashboard_action_measure: "Check",
    dashboard_action_emergency: "Emergency",
    dashboard_eventsTitle: "My Agenda",
    dashboard_noEvents: "No upcoming events.",
    dashboard_addEvent: "Add an event",
    dashboard_todayAt: (time: string) => `Today at ${time}`,
    dashboard_tomorrowAt: (time: string) => `Tomorrow at ${time}`,
    dashboard_eventMarkCompleted: "Done",
    dashboard_eventMarkPending: "Reactivate",
    dashboard_dataAnalysisTitle: "Data Analysis",
    dashboard_dataAnalysisText: "Visualize your trends and get detailed reports.",
    dashboard_dataAnalysisButton: "View my reports",

    calculator_title: "Dose Calculator",
    calculator_glycemiaAndTimeTitle: "Glucose & Time",
    calculator_glycemiaLabel: "Glucose (g/L)",
    calculator_mealTimeLabel: "Meal",
    calculator_resultTitle: "Recommended Dose",
    calculator_resultMealDose: (dose: number, carbs: number) => `${dose.toFixed(1)} U for ${carbs}g of carbs`,
    calculator_resultCorrectionDose: (dose: number, gly: string) => `+ ${dose} U correction for ${gly} g/L`,
    calculator_bolusDetails: (repas: number, corr: number) => `Meal: ${repas.toFixed(1)}U, Correction: ${corr}U`,
    calculator_saveButton: "Save bolus to journal",

    journal_title: "My Journal",
    journal_empty: "No events recorded.",
    journal_glycemia: "Glucose",
    journal_ketone: "Ketone",
    journal_carbs: (carbs: number) => `${carbs.toFixed(0)}g of carbs`,
    journal_bolus: "Bolus",

    settings_title: "Settings & Profile",
    settings_language: "Language",
    settings_profile: "Patient Profile",
    settings_glycemicTargets: "Glycemic Targets",
    settings_ratios: "Insulin/Carb Ratios (1U for Xg)",
    settings_correctionSchema: "Correction Schema",
    settings_recorrectionDelay: "Delay before new correction (hours)",
    settings_emergencyContacts: "Emergency Contacts",
    settings_contactRelation: "Relation (Mom...)",
    settings_contactPhone: "Phone",
    settings_addContact: "+ Add a contact",
    settings_paiNotes: "Notes for PAI",
    settings_dataManagement: "Data Management",
    settings_exportData: "Export Data",
    settings_importData: "Import Data",
    settings_viewPai: "View my PAI",
    settings_logout: "Log out",

    onboarding_welcome: "Welcome!",
    onboarding_subtitle: "Let's start by creating your profile.",
    onboarding_firstNamePlaceholder: "e.g., Leo",
    onboarding_startButton: "Start the adventure",
    onboarding_helperText: "This application is an aid and does not replace medical advice. Settings must be defined with your diabetologist.",

    emergency_title: "Emergency Protocols",
    emergency_hypoButton: "Hypo",
    emergency_hypoSubtitle: "< 0.70 g/L",
    emergency_hyperButton: "Hyper",
    emergency_hyperSubtitle: "> 2.50 g/L",
    emergency_ketoneButton: "Ketone",
    emergency_ketoneSubtitle: "Ketones > 0.6",
    emergencyProtocols: {
      hypo: {
        title: "Hypoglycemia Protocol",
        step1: (min: number) => `If blood sugar < ${min.toFixed(2)} g/L.`,
        step2: "Take 15g of fast-acting sugar (3 sugar cubes, 1 juice box).",
        step3: "Check blood sugar 15 minutes later.",
        step4: "If still low, take another 15g of sugar.",
        step5: "Once blood sugar rises, have a snack (slow-acting carbs) if the next meal is more than an hour away.",
      },
      hyper: {
        title: "Hyperglycemia Protocol",
        step1: (max: number) => `If blood sugar > ${max.toFixed(2)} g/L.`,
        step2: "Give a correction injection (bolus) according to the schema.",
        step3: (delay: number) => `Check blood sugar ${delay} hours later.`,
        step4: "Drink plenty of water.",
        step5: "If blood sugar remains high or symptoms appear (vomiting, pain), contact a doctor.",
      },
      acetone: {
        title: "Ketone Protocol",
        step1: "If ketones are > 0.6 mmol/L.",
        step2: "Give a fast-acting insulin injection (correction) even if blood sugar is not very high.",
        step3: "Drink water abundantly, every 30 minutes.",
        step4: "Check blood sugar and ketones every 2 hours.",
        step5: "DO NOT EXERCISE. If ketones increase or vomiting occurs, CALL EMERGENCY SERVICES.",
      }
    },
    emergency_patientTitle: "Patient Information",
    emergency_contactsTitle: "Contacts to Notify",
    emergency_noContacts: "No emergency contacts defined.",

    foodLibrary_title: "Food Library",
    foodLibrary_searchPlaceholder: (count: number) => `Search among ${count} foods...`,
    foodLibrary_per100: (unit: string) => `per 100${unit}`,
    foodLibrary_noResults: (term: string) => `No results for "${term}"`,
    foodLibrary_addFood: "Add a food",

    pai_title: (name: string) => `${name}'s PAI`,
    pai_subtitle: "Individualized Care Plan",
    pai_generalInfo: "General Information",
    pai_glycemicTargets: "Glycemic Targets",
    pai_target: "Target Range",
    pai_ratios: "Insulin / Carb Ratios",
    pai_ratiosSubtitle: "1 unit of insulin for...",
    pai_correctionSchema: "Hyperglycemia Correction Schema",
    pai_correctionSchemaSubtitle: "Add X units if blood sugar is...",
    pai_correctionRuleFirst: (max: number) => `Between target and ${max.toFixed(2)} g/L`,
    pai_correctionRuleNext: (prevMax: number, max: number) => `Between ${prevMax.toFixed(2)} and ${max.toFixed(2)} g/L`,
    pai_correctionDelay: (hours: number) => `Wait ${hours}h between 2 corrections.`,
    pai_notes: "Important Notes",
    pai_noNotes: "No notes.",

    auth_appTitle: "DiabAssistant",
    auth_loginTitle: "Login",
    auth_signupTitle: "Create Account",
    auth_username: "Username",
    auth_password: "Password",
    auth_confirmPassword: "Confirm Password",
    auth_loginButton: "Log In",
    auth_signupButton: "Sign Up",
    auth_noAccount: "No account?",
    auth_hasAccount: "Already have an account?",
    auth_signupLink: "Sign up",
    auth_loginLink: "Log in",

    toast_passwordsDoNotMatch: "Passwords do not match.",
    toast_fillAllFields: "Please fill in all fields.",
    toast_profileCreated: (name: string) => `Profile for ${name} created!`,
    toast_userNotFound: "User not found, cannot create profile.",
    toast_measureAdded: (gly: number) => `Measurement ${gly} g/L added!`,
    toast_bolusAdded: (dose: number) => `Bolus of ${dose}U added!`,
    toast_eventAdded: "Event added to agenda!",
    toast_calculationIncomplete: "Calculation incomplete. Cannot save.",
    toast_bolusSaved: (dose: number) => `Bolus of ${dose}U saved.`,
    toast_bolusSaveError: "Error saving bolus.",
    toast_nameAndBirthdateRequired: "First name and date of birth are required.",
    toast_settingsSaved: "Settings saved successfully!",
    toast_exportSuccess: "Data exported successfully!",
    toast_exportError: "Export failed.",
    toast_importInvalidFile: "Invalid import file.",
    toast_importConfirm: "Warning, importing will overwrite all current data. Continue?",
    toast_importSuccess: "Data imported! The app will now restart.",
    toast_importError: "Import failed.",
    toast_invalidDose: "Please enter a valid dose.",
    toast_invalidGlycemia: "Please enter a valid blood sugar value.",
    toast_invalidKetone: "Please enter a valid ketone value.",
    toast_foodNameRequired: "Food name is required.",
    toast_invalidCarbs: "Please enter a valid carb value.",
    toast_invalidFiber: "Please enter a valid fiber value.",
    toast_foodUpdated: (name: string) => `"${name}" updated.`,
    toast_foodAdded: (name: string) => `"${name}" added to the library.`,
    toast_fillAllFieldsCorrectly: "Please fill all fields correctly.",
    toast_titleRequired: "Title is required.",
    toast_datetimeRequired: "Date and time are required.",
    toast_invalidQuantity: "Please enter a valid quantity.",
    toast_invalidWeight: "Please enter a valid weight.",
    
    quiz_title: "Did you know?",
    quiz_nextQuestion: "Next question",
    quizData: quizDataEN,

    quickAdd_bolusTitle: "Quick Add Bolus",
    quickAdd_doseLabel: "Dose (units)",
    quickAdd_injectionType: "Injection Type",
    quickAdd_rapid: "Meal",
    quickAdd_measureTitle: "Quick Add Measurement",
    quickAdd_glycemiaLabel: "Glucose (g/L)",
    quickAdd_ketoneLabel: "Ketones (mmol/L)",

    addFood_manualCategory: "Manual",
    addFood_manualSource: "Manual Entry",
    addFood_editTitle: "Edit Food",
    addFood_addTitle: "Add Food",
    addFood_foodNameLabel: "Food Name",
    addFood_foodNamePlaceholder: "e.g., Fruit Yogurt",
    addFood_per100g: "Per 100g",
    addFood_per100ml: "Per 100ml",
    addFood_totalCarbsLabel: "Total Carbs",
    addFood_fiberLabel: "of which Fiber",
    addFood_confirm_title: "Quantity",
    addFood_confirm_quantity: "Consumed quantity",
    addFood_confirm_calculatedCarbs: "Calculated Carbs",
    addFood_confirm_addToMeal: "Add to Meal",

    addEvent_title: "Add to Agenda",
    addEvent_appointment: "Appointment",
    addEvent_note: "Note",
    addEvent_doctorLabel: "Appointment/Doctor Name",
    addEvent_doctorPlaceholder: "e.g., Dr. Martin, Diabetologist",
    addEvent_eventTitleLabel: "Event Title",
    addEvent_eventTitlePlaceholder: "e.g., Order supplies",
    addEvent_additionalInfoLabel: "Info (location, questions...)",
    addEvent_additionalInfoPlaceholder: "Optional",
    addEvent_descriptionPlaceholder: "Details...",
    
    packaging_title: "Packaging Calculator",
    packaging_foodNamePlaceholder: "e.g., Choco Cereals",
    packaging_grams: "Grams (g)",
    packaging_milliliters: "Milliliters (ml)",
    packaging_labelInfo: "According to the nutrition label",
    packaging_forWeight: "For",
    packaging_consumedWeight: "Consumed Weight",
    packaging_consumedWeightPlaceholder: "e.g., 45",
    packaging_totalCarbsResult: "Total Carbs",
    packaging_addToMeal: "Add to Meal",
    packaging_calculatedFoodName: (name: string) => `${name} (calculated)`,
    packaging_calculatedCategory: "Calculated",
    packaging_source: "Packaging calculation",
    
    editMeal_title: "Edit Quantity",
    editMeal_newQuantityLabel: "New quantity",
    
    mealBuilder_title: "Composition du repas",
    mealBuilder_netCarbs: "Net",
    mealBuilder_totalCarbs: "Total",
    mealBuilder_searchPlaceholder: "Chercher un aliment...",
    mealBuilder_start: "Commencez par ajouter des aliments à votre repas.",
    mealBuilder_packagingCalc: "Emballage",
    mealBuilder_photoScan: "Photo",
    mealBuilder_favoritesTitle: "Favorites",
    mealBuilder_favoriteCategory: "Favorite",
    
    carbIndicator_level_low: "Low",
    carbIndicator_level_medium: "Medium",
    carbIndicator_level_high: "High",

    reports_title: "Reports & Trends",
    reports_days: (d: number) => `${d} days`,
    reports_keyStats: "Key Stats",
    reports_tir: "Time in Range",
    reports_avgGlucose: "Avg. Glucose",
    reports_hypos: "Hypos",
    reports_hypers: "Hypers",
    reports_noDataPeriod: "No data for this period.",
    reports_dailyChart: "Daily Chart",
    reports_noData: "No glucose data for this day.",
    reports_selectDayWithData: "Select another day with data.",

    doseExplanation_title: "How is this calculated?",
    doseExplanation_mealTitle: "Meal Bolus",
    doseExplanation_mealDetail: (carbs: number, ratio: number) => `For ${carbs}g of carbs, with your ratio of 1 unit for ${ratio}g.`,
    doseExplanation_correctionTitle: "Correction Bolus",
    doseExplanation_correctionDetail: (gly: string) => `To bring your glucose of ${gly} g/L back to target.`,
    doseExplanation_totalTitle: "Total Dose",
    doseExplanation_warningTitle: "Important Note",
    doseExplanation_close: "Got it!",
  },
  // Other languages can be added here
};

const useTranslations = () => {
    const { language } = useSettingsStore();
    // Fallback to French if the selected language is not in the translations object
    return translations[language as keyof typeof translations] || translations.fr;
};

export default useTranslations;
export type { QuizQuestion };